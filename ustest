port: 7890
allow-lan: true
mode: rule
log-level: info
unified-delay: true
global-client-fingerprint: chrome
ipv6: false # å¿…é¡»å…³é—­ï¼Œé˜²æ­¢ IPv6 éš§é“å¯¼è‡´çš„ DNS æ³„éœ²

# 1. DNS æ·±åº¦ä¼˜åŒ–ï¼šå®ç°â€œå›½å†…ç›´è¿ã€å›½å¤–éšèº«â€
dns:
  enable: true # æ ¸å¿ƒæ”¹è¿›ï¼šå¿…é¡»å¼€å¯æ‰èƒ½æ¥ç®¡è§£æ
  listen: :53
  ipv6: false
  enhanced-mode: fake-ip # æ ¸å¿ƒæ”¹è¿›ï¼šé˜²æ­¢æµè§ˆå™¨ç›´æ¥æŸ¥è¯¢çœŸå® IP
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 119.29.29.29
    - 223.5.5.5
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
   # - https://doh.pub/dns-query
  # ä»£ç†æœåŠ¡å™¨åŸŸåè§£æï¼šç¡®ä¿è§£æèŠ‚ç‚¹åœ°å€æ—¶ä¸èµ°ä»£ç†ï¼Œé˜²æ­¢æ­»å¾ªç¯
  proxy-server-nameserver:
    - 8.8.8.8
  # åªæœ‰åŒ¹é…åˆ°å›½å†…åŸŸåæ—¶ï¼Œæ‰åŠ¨ç”¨å›½å†… DNSï¼Œå¦åˆ™ä¸€å¾‹ä¸è§£æï¼Œé˜²æ­¢æ³„éœ²
  nameserver-policy:
    "geosite:cn": [https://dns.alidns.com/dns-query, 223.5.5.5]

# 2. æµé‡å—…æ¢ï¼šé˜²æ­¢ DNS æ±¡æŸ“å¯¼è‡´çš„ Cloudflare è¯¯è¿
sniffer:
  enable: true
  sniff:
    TLS:
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080-8880]
  force-domain:
    - "+"

proxies:
  - name: vless-reality-vision-us
    type: vless
    server: 35.212.208.219
    port: 21934
    uuid: 651343df-0fb6-445d-9e79-143b2b7b7acf
    network: tcp
    udp: true
    tls: true
    flow: xtls-rprx-vision
    servername: apple.com
    reality-opts:
      public-key: TAgdTjUWwUBJndvxb718lwG7foitGRVq-xqw3gzcM0s
      short-id: 0cbdd63a
    client-fingerprint: chrome

  - name: tuic5-us
    type: tuic
    server: 35.212.208.219
    port: 42361
    uuid: 651343df-0fb6-445d-9e79-143b2b7b7acf
    password: 651343df-0fb6-445d-9e79-143b2b7b7acf
    alpn: [h3]
    reduce-rtt: true
    sni: www.bing.com
    skip-cert-verify: true

proxy-groups:
  - name: ğŸŒ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - ğŸš€ è‡ªåŠ¨é€‰æ‹©
      - vless-reality-vision-us
      - tuic5-us
      - DIRECT

  - name: ğŸš€ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - vless-reality-vision-us
      - tuic5-us

rules:
  - GEOIP,LAN,DIRECT,no-resolve
    
  # å¸¸è§å›½å¤–æœåŠ¡èµ°ä»£ç†
  - GEOSITE,google,ğŸŒ èŠ‚ç‚¹é€‰æ‹©
  - GEOSITE,github,ğŸŒ èŠ‚ç‚¹é€‰æ‹©
  - GEOSITE,youtube,ğŸŒ èŠ‚ç‚¹é€‰æ‹©
  - GEOSITE,telegram,ğŸŒ èŠ‚ç‚¹é€‰æ‹©

  # å›½å†…åŠ é€Ÿï¼šå‘½ä¸­åˆ—è¡¨ç›´æ¥èµ°å›½å†… DNS è§£æå¹¶ç›´è¿
  - GEOSITE,CN,DIRECT
  - GEOIP,CN,DIRECT,no-resolve
  
  # å…œåº•è§„åˆ™
  - MATCH,ğŸŒ èŠ‚ç‚¹é€‰æ‹©

