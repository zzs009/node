port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
# å…³é”®ï¼šå¼€å¯ IPv6 æ”¯æŒï¼Œå¦åˆ™æ— æ³•è¿æ¥ IPv6 èŠ‚ç‚¹
ipv6: true
unified-delay: true
global-client-fingerprint: chrome

# æœç» DNS æ³„éœ²æ–¹æ¡ˆï¼ˆIPv6 å…¼å®¹ç‰ˆï¼‰
dns:
  enable: true
  listen: 0.0.0.0:53
  # å…³é”®ï¼šDNS è§£æä¹Ÿéœ€è¦æ”¯æŒ IPv6
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*.lan'
    - 'localhost.ptlogin2.qq.com'
    - 'dns.msftncsi.com'
    - 'www.msftncsi.com'
    - 'www.msftconnecttest.com'
    - 'msftconnecttest.com'
  
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  
  # åˆ†æµè§£æï¼šç¡®ä¿å›½å†…èµ°å›½å†… DNSï¼Œå›½å¤–èµ°åŠ å¯† DoH
  nameserver-policy:
    "geosite:cn": [https://dns.alidns.com/dns-query, https://doh.pub/dns-query]
    "geosite:geolocation-!cn": [https://1.1.1.1/dns-query, https://8.8.8.8/dns-query]

  # ä¸“é—¨ç”¨äºè§£æä½ çš„ IPv6 èŠ‚ç‚¹åŸŸå
  proxy-server-nameserver:
    - https://dns.alidns.com/dns-query
    - 223.5.5.5
  
  fallback: []
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4

sniffing:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true

proxies:
  # === Vless ipv4 (4ä¸ª) ===
  - {name: æ‚‰å°¼é«˜é€Ÿ, server: 192.9.164.54, port: 443, type: vless, uuid: b527363c-efb8-4a3f-9209-cdeb18349afd, tls: true, flow: xtls-rprx-vision, skip-cert-verify: false, reality-opts: {public-key: 9oOtS_WWQMj6h4L72o1Lbu9ze_lmW_2PQy4diKpBjQI, short-id: "ba9c05e6cce34e2e" }, servername: musicstatus.tv.apple.com, client-fingerprint: chrome, network: tcp, udp: true}
  - {name: æ³•å›½, server: 69.84.182.13, port: 443, type: vless, uuid: b527363c-efb8-4a3f-9209-cdeb18349afd, tls: true, skip-cert-verify: false, servername: fr-1-fr-1.aiopen.sbs, client-fingerprint: chrome, network: ws, ws-opts: {path: /gsjc/fr1, headers: {Host: fr-1-fr-1.aiopen.sbs}}, udp: true}
  - {name: ç¾å›½å‡¤å‡°åŸ, server: 132.226.147.10, port: 443, type: vless, uuid: b527363c-efb8-4a3f-9209-cdeb18349afd, tls: true, flow: xtls-rprx-vision, skip-cert-verify: false, reality-opts: {public-key: OEZ3C-1OCSYBikqcWudtPP3PpQq2RAI7rFPxWoTCDSc, short-id: "bffe9292" }, servername: musicstatus.tv.apple.com, client-fingerprint: chrome, network: tcp, udp: true}
  - {name: ç¾å›½é˜¿ä»€æœ¬, server: 129.158.41.239, port: 443, type: vless, uuid: b527363c-efb8-4a3f-9209-cdeb18349afd, tls: true, flow: xtls-rprx-vision, skip-cert-verify: false, reality-opts: {public-key: Um47-P2c42os7mr1X4Hxw0290YA1FXwyG96p854qol0, short-id: "8c38a563b7a004d8" }, servername: musicstatus.tv.apple.com, client-fingerprint: chrome, network: tcp, udp: true}

proxy-groups:
  - name: ğŸ“¹ Youtube
    type: select
    proxies:
      - æ‚‰å°¼é«˜é€Ÿ
      - æ³•å›½
      - ç¾å›½å‡¤å‡°åŸ
      - ç¾å›½é˜¿ä»€æœ¬

  - name: ğŸ¤– AI
    type: select
    proxies:
      - æ‚‰å°¼é«˜é€Ÿ
      - æ³•å›½
      - ç¾å›½å‡¤å‡°åŸ
      - ç¾å›½é˜¿ä»€æœ¬

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - æ‚‰å°¼é«˜é€Ÿ
      - æ³•å›½
      - ç¾å›½å‡¤å‡°åŸ
      - ç¾å›½é˜¿ä»€æœ¬
            
# 4. è·¯ç”±è§„åˆ™
rules:
  # AI è§„åˆ™
  - DOMAIN-SUFFIX,openai.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,chatgpt.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,oaistatic.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,oaiusercontent.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,chat.openai.com.cdn.cloudflare.net,ğŸ¤– AI
  - DOMAIN-KEYWORD,openai,ğŸ¤– AI
  
  # --- Claude ---
  - DOMAIN-SUFFIX,anthropic.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,claude.ai,ğŸ¤– AI
  - DOMAIN-KEYWORD,claude,ğŸ¤– AI
  
  # --- Google Gemini (é‡è¦) ---
  - DOMAIN-SUFFIX,bard.google.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,gemini.google.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,generativelanguage.googleapis.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,proactive.google.com,ğŸ¤– AI
  
  # --- Microsoft Copilot ---
  - DOMAIN-SUFFIX,bing.com,ğŸ¤– AI
  - DOMAIN-SUFFIX,copilot.microsoft.com,ğŸ¤– AI
  
  # Youtube è§„åˆ™
  - DOMAIN-SUFFIX,youtube.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,youtube.be,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,googlevideo.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,ytimg.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,yt3.ggpht.com,ğŸ“¹ Youtube        # ç”¨äºé¢‘é“å¤´åƒå’Œç¼©ç•¥å›¾
  - DOMAIN-SUFFIX,youtube-nocookie.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,youtubeeducation.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,youtubegaming.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,youtubekids.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,youtubemusic.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,youtube-ui.l.google.com,ğŸ“¹ Youtube
  - DOMAIN-SUFFIX,yt.be,ğŸ“¹ Youtube
  - DOMAIN-KEYWORD,youtube,ğŸ“¹ Youtube

  # å¸¸è§çš„ç›´è¿ï¼ˆé˜²æ­¢DNSæ³„éœ²åçš„æµ‹é€ŸæŸè€—ï¼‰
  - GEOSITE,CN,DIRECT
  - GEOIP,CN,DIRECT,no-resolve
  # æœ€ç»ˆå…œåº•
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

